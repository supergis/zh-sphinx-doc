

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>调用 sphinx-build &mdash; Sphinx 使用手册</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Sphinx 使用手册" href="index.html"/>
        <link rel="next" title="reStructuredText 简介" href="rest.html"/>
        <link rel="prev" title="Sphinx初尝" href="tutorial.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="contents.html" class="icon icon-home"> Sphinx 使用手册
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">译者前言</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#id2">欢迎</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">引言</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Sphinx初尝</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">调用 sphinx-build</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#makefile">Makefile 选项</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#sphinx-apidoc">调用 sphinx-apidoc</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest.html">reStructuredText 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="markup/index.html">Sphinx标记的组成</a></li>
<li class="toctree-l1"><a class="reference internal" href="domains.html">Sphinx Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="builders.html">Available builders</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">The build configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="intl.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming.html">HTML theming support</a></li>
<li class="toctree-l1"><a class="reference internal" href="templating.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="websupport.html">Sphinx Web Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Sphinx FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="contents.html">Sphinx 使用手册</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="contents.html">Docs</a> &raquo;</li>
      
    <li>调用 sphinx-build</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/invocation.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sphinx-build">
<span id="invocation"></span><h1>调用 sphinx-build</h1>
<p>脚本 <strong class="program">sphinx-build</strong> 用来建立Sphinx文档集.
调用方式:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sphinx-build [options] sourcedir builddir [filenames]
</pre></div>
</div>
<p><em>sourcedir</em> 是源文件目录  <a class="reference internal" href="glossary.html#term-source-directory"><span class="xref std std-term">source directory</span></a> , <em>builddir</em> 是生成文件目录.一般不需要写 <em>filenames</em> .</p>
<p>脚本 <strong class="program">sphinx-build</strong> 的选项:</p>
<dl class="option">
<dt id="cmdoption-sphinx-build-b">
<code class="descname">-b</code><code class="descclassname"> 生成器名字</code></dt>
<dd><p>生成器,决定了生成文档的类型,是最重要的选项.  通用的生成器有:</p>
<dl class="docutils">
<dt><strong>html</strong></dt>
<dd>生成HTML文档.  默认的生成器.</dd>
<dt><strong>dirhtml</strong></dt>
<dd>生成HTML文档，但是每个文档都有单一的目录，在用浏览器访问时有漂亮的URLs (没有后缀 <code class="docutils literal"><span class="pre">.html</span></code> ) .</dd>
<dt><strong>singlehtml</strong></dt>
<dd>所有内容生成单一的 HTML .</dd>
<dt><strong>htmlhelp</strong>, <strong>qthelp</strong>, <strong>devhelp</strong>, <strong>epub</strong></dt>
<dd>生成HTML文档，建立文档集时包含这些类型之一的额外信息.</dd>
<dt><strong>latex</strong></dt>
<dd>生成 LaTeX 源，可使用 <strong class="program">pdflatex</strong> 将其编译成 PDF 文档.</dd>
<dt><strong>man</strong></dt>
<dd>生成UNIX系统的groff格式手册.</dd>
<dt><strong>texinfo</strong></dt>
<dd>生成 Texinfo 文件，可以使用 <strong class="program">makeinfo</strong> 产生Info 文件.</dd>
<dt><strong>text</strong></dt>
<dd>生成纯文本文件.</dd>
<dt><strong>gettext</strong></dt>
<dd>生成 gettext-style 分类信息  ( <code class="docutils literal"><span class="pre">.pot</span></code> 文件).</dd>
<dt><strong>doctest</strong></dt>
<dd>运行文档集内所有测试，如果 <a class="reference internal" href="ext/doctest.html#module-sphinx.ext.doctest" title="sphinx.ext.doctest: Test snippets in the documentation."><code class="xref py py-mod docutils literal"><span class="pre">doctest</span></code></a> 扩展可用.</dd>
<dt><strong>linkcheck</strong></dt>
<dd>检查所有外部链接的可信度.</dd>
</dl>
<p>查看 <a class="reference internal" href="builders.html#builders"><span class="std std-ref">Available builders</span></a> ，列出了Sphinx支持的所有生成器及
其可添加的扩展.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-a">
<code class="descname">-a</code><code class="descclassname"></code></dt>
<dd><p>给出时重写全部文档，默认则仅重新生成有新的源文件或源文件被修改的文档.(不适用于所有生成器.)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-E">
<code class="descname">-E</code><code class="descclassname"></code></dt>
<dd><p>不使用保存的 <a class="reference internal" href="glossary.html#term-environment"><span class="xref std std-term">environment</span></a> (环境，缓存了所有的参考索引), 而是完全重建.
默认仅读取和解析最近新添加及改动的源文件.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-t">
<code class="descname">-t</code><code class="descclassname"> tag</code></dt>
<dd><p>定义标签 <em>tag</em>.  与 <a class="reference internal" href="markup/misc.html#directive-only" title="only directive"><code class="xref rst rst-dir docutils literal"><span class="pre">only</span></code></a> 指令相关，标签是一个目录集合，仅处理标签目录中的内容.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.6.</span></p>
</div>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-d">
<code class="descname">-d</code><code class="descclassname"> 路径</code></dt>
<dd><p>目前Sphinx生成输出前会读取和解析所有的源文件,
解析过的源文件被缓存成 &#8220;doctree pickles&#8221;.
通常，这些文件被放在生成目录的 <code class="file docutils literal"><span class="pre">.doctrees</span></code> 文件夹中;
这个选项可以选择不同的缓存目录( doctrees 可以被所有的生存器共享).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-c">
<code class="descname">-c</code><code class="descclassname"> 路径</code></dt>
<dd><p>不使用源目录下的 <code class="file docutils literal"><span class="pre">conf.py</span></code> 而是使用指定的配置文件.
注意在配置文件中提及的路径都是相对配置文件所在目录的相对路径,因此路径必须一致.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.3.</span></p>
</div>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-C">
<code class="descname">-C</code><code class="descclassname"></code></dt>
<dd><p>不查找配置文件，仅使用选项 <code class="docutils literal"><span class="pre">-D</span></code> 的配置.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.5.</span></p>
</div>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-D">
<code class="descname">-D</code><code class="descclassname"> setting=value</code></dt>
<dd><p>覆盖 <code class="file docutils literal"><span class="pre">conf.py</span></code> 里的配置值.  value 是一个字符串或字典.
例如: <code class="docutils literal"><span class="pre">-D</span> <span class="pre">latex_elements.docclass=scrartcl</span></code>.
布尔值使用 <code class="docutils literal"><span class="pre">0</span></code> 或 <code class="docutils literal"><span class="pre">1</span></code> 代替.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.6: </span>值可以为一个字典.</p>
</div>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-A">
<code class="descname">-A</code><code class="descclassname"> name=value</code></dt>
<dd><p>模板里的 <em>name</em> 变量使用 <em>value</em> 值代替.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.5.</span></p>
</div>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-n">
<code class="descname">-n</code><code class="descclassname"></code></dt>
<dd><p>采用 nit-picky 模式.  该模式下所有错误都会产生警告信息.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-N">
<code class="descname">-N</code><code class="descclassname"></code></dt>
<dd><p>不产生彩色输出.  (在 Windows, 彩色输出一直是不可用的.)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-q">
<code class="descname">-q</code><code class="descclassname"></code></dt>
<dd><p>不产生标准输出，仅使用标准错误输出输出警告和错误信息.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-Q">
<code class="descname">-Q</code><code class="descclassname"></code></dt>
<dd><p>不产生标准输出，也不产生警告信息，仅使用标准错误输出输出错误信息.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-w">
<code class="descname">-w</code><code class="descclassname"> file</code></dt>
<dd><p>除标准错误输出外，将警告（错误）输出到指定文件.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-W">
<code class="descname">-W</code><code class="descclassname"></code></dt>
<dd><p>将警告视为错误.产生第一个警告就停止文档生成活动， <code class="docutils literal"><span class="pre">sphinx-build</span></code> 在状态1 退出.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-build-P">
<code class="descname">-P</code><code class="descclassname"></code></dt>
<dd><p>发生未绑定的异常时运行Python 调试器 <code class="xref py py-mod docutils literal"><span class="pre">pdb</span></code>.(仅在调试时使用.)</p>
</dd></dl>

<p>源目录与目标目录后面，可以给出一个到多个文件名.  Sphinx会尝试仅生成这些文件(及其依赖文件).</p>
<div class="section" id="makefile">
<h2>Makefile 选项</h2>
<p>文件 <code class="file docutils literal"><span class="pre">Makefile</span></code> 及 <code class="file docutils literal"><span class="pre">make.bat</span></code> 由
<strong class="program">sphinx-quickstart</strong> 创建，脚本 <strong class="program">sphinx-build</strong> 仅使用选项
<a class="reference internal" href="#cmdoption-sphinx-build-b"><code class="xref std std-option docutils literal"><span class="pre">-b</span></code></a> 和 <a class="reference internal" href="#cmdoption-sphinx-build-d"><code class="xref std std-option docutils literal"><span class="pre">-d</span></code></a> .它们则支持以下自定义行为的变量:</p>
<dl class="describe">
<dt>
<code class="descname">PAPER</code></dt>
<dd><p><a href="#id1"><span class="problematic" id="id2">:confval:`latex_paper_size`</span></a> 的值.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">SPHINXBUILD</code></dt>
<dd><p>命令 <code class="docutils literal"><span class="pre">sphinx-build</span></code> 替代值.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">BUILDDIR</code></dt>
<dd><p>替代运行 <strong class="program">sphinx-quickstart</strong> 选择的目标目录.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">SPHINXOPTS</code></dt>
<dd><p><strong class="program">sphinx-build</strong> 的额外选项.</p>
</dd></dl>

</div>
</div>
<div class="section" id="sphinx-apidoc">
<span id="invocation-apidoc"></span><h1>调用 sphinx-apidoc</h1>
<p>程序 <strong class="program">sphinx-apidoc</strong> 将Python页面自动生成API文档.调用方式:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sphinx-apidoc [options] -o outputdir packagedir [pathnames]
</pre></div>
</div>
<p>这里 <em>packagedir</em> 是生成文档的页面的根目录， <em>outputdir</em> 则是生成源文件的输出目录.
<em>pathnames</em> 给出的路径在生成时不会被忽略.</p>
<p>脚本 <strong class="program">sphinx-apidoc</strong> 也有一些选项:</p>
<dl class="option">
<dt id="cmdoption-sphinx-apidoc-o">
<code class="descname">-o</code><code class="descclassname"> outputdir</code></dt>
<dd><p>给出文档页的根目录.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-f">
<span id="cmdoption-sphinx-apidoc--force"></span><code class="descname">-f</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--force</code><code class="descclassname"></code></dt>
<dd><p>通常sphinx-apidoc 不会重写任何文件.  使用该项强制重写所有文件.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-n">
<span id="cmdoption-sphinx-apidoc--dry-run"></span><code class="descname">-n</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--dry-run</code><code class="descclassname"></code></dt>
<dd><p>采用该选项，将不会产生任何文件.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-s">
<code class="descname">-s</code><code class="descclassname"> suffix</code></dt>
<dd><p>生成文件的后缀名，默认为 <code class="docutils literal"><span class="pre">rst</span></code>.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-d">
<code class="descname">-d</code><code class="descclassname"> maxdepth</code></dt>
<dd><p>目录的最大层次.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-T">
<span id="cmdoption-sphinx-apidoc--no-toc"></span><code class="descname">-T</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--no-toc</code><code class="descclassname"></code></dt>
<dd><p>避免生成文件 <code class="docutils literal"><span class="pre">modules.rst</span></code>.
当有选项 <a class="reference internal" href="#cmdoption-sphinx-apidoc--full"><code class="xref std std-option docutils literal"><span class="pre">--full</span></code></a> 时不起作用.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-F">
<span id="cmdoption-sphinx-apidoc--full"></span><code class="descname">-F</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--full</code><code class="descclassname"></code></dt>
<dd><p>创建整个 Sphinx 项目, 与 <strong class="program">sphinx-quickstart</strong> 使用一样的机制.
大多数配置值被设置为默认，可通过下面选项去修改.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-H">
<code class="descname">-H</code><code class="descclassname"> project</code></dt>
<dd><p>设置项目名 (查看 <a href="#id3"><span class="problematic" id="id4">:confval:`project`</span></a>).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-A">
<code class="descname">-A</code><code class="descclassname"> author</code></dt>
<dd><p>设置作者名 (查看 <a href="#id5"><span class="problematic" id="id6">:confval:`copyright`</span></a>).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-V">
<code class="descname">-V</code><code class="descclassname"> version</code></dt>
<dd><p>设置文档版本 (查看 <a href="#id7"><span class="problematic" id="id8">:confval:`version`</span></a>).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sphinx-apidoc-R">
<code class="descname">-R</code><code class="descclassname"> release</code></dt>
<dd><p>设置文档的发布版本 (查看 <a href="#id9"><span class="problematic" id="id10">:confval:`release`</span></a>).</p>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rest.html" class="btn btn-neutral float-right" title="reStructuredText 简介" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial.html" class="btn btn-neutral" title="Sphinx初尝" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>