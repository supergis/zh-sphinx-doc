

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTML theming support &mdash; Sphinx 使用手册</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Sphinx 使用手册" href="index.html"/>
        <link rel="next" title="Templating" href="templating.html"/>
        <link rel="prev" title="Internationalization" href="intl.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="contents.html" class="icon icon-home"> Sphinx 使用手册
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">译者前言</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#id2">欢迎</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">引言</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Sphinx初尝</a></li>
<li class="toctree-l1"><a class="reference internal" href="invocation.html">调用 sphinx-build</a></li>
<li class="toctree-l1"><a class="reference internal" href="invocation.html#sphinx-apidoc">调用 sphinx-apidoc</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest.html">reStructuredText 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="markup/index.html">Sphinx标记的组成</a></li>
<li class="toctree-l1"><a class="reference internal" href="domains.html">Sphinx Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="builders.html">Available builders</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">The build configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="intl.html">Internationalization</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">HTML theming support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-a-theme">Using a theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="#builtin-themes">Builtin themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-themes">Creating themes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#templating">Templating</a></li>
<li class="toctree-l3"><a class="reference internal" href="#static-templates">Static templates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="templating.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="websupport.html">Sphinx Web Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Sphinx FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="contents.html">Sphinx 使用手册</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="contents.html">Docs</a> &raquo;</li>
      
    <li>HTML theming support</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/theming.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="html-theming-support">
<h1>HTML theming support</h1>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.6.</span></p>
</div>
<p>Sphinx supports changing the appearance of its HTML output via <em>themes</em>.  A
theme is a collection of HTML templates, stylesheet(s) and other static files.
Additionally, it has a configuration file which specifies from which theme to
inherit, which highlighting style to use, and what options exist for customizing
the theme&#8217;s look and feel.</p>
<p>Themes are meant to be project-unaware, so they can be used for different
projects without change.</p>
<div class="section" id="using-a-theme">
<h2>Using a theme</h2>
<p>Using an existing theme is easy.  If the theme is builtin to Sphinx, you only
need to set the <a href="#id1"><span class="problematic" id="id2">:confval:`html_theme`</span></a> config value.  With the
<a href="#id3"><span class="problematic" id="id4">:confval:`html_theme_options`</span></a> config value you can set theme-specific options
that change the look and feel.  For example, you could have the following in
your <code class="file docutils literal"><span class="pre">conf.py</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">html_theme</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
<span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;rightsidebar&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
    <span class="s2">&quot;relbarbgcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>That would give you the default theme, but with a sidebar on the right side and
a black background for the relation bar (the bar with the navigation links at
the page&#8217;s top and bottom).</p>
<p>If the theme does not come with Sphinx, it can be in two forms: either a
directory (containing <code class="file docutils literal"><span class="pre">theme.conf</span></code> and other needed files), or a zip file
with the same contents.  Either of them must be put where Sphinx can find it;
for this there is the config value <a href="#id5"><span class="problematic" id="id6">:confval:`html_theme_path`</span></a>.  It gives a list
of directories, relative to the directory containing <code class="file docutils literal"><span class="pre">conf.py</span></code>, that can
contain theme directories or zip files.  For example, if you have a theme in the
file <code class="file docutils literal"><span class="pre">blue.zip</span></code>, you can put it right in the directory containing
<code class="file docutils literal"><span class="pre">conf.py</span></code> and use this configuration:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">html_theme</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>
<span class="n">html_theme_path</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="builtin-themes">
<span id="id7"></span><h2>Builtin themes</h2>
<table border="1" class="right docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Theme overview</strong></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><p class="first"><img alt="default" src="_images/default.png" /></p>
<p class="last"><em>default</em></p>
</td>
<td><p class="first"><img alt="sphinxdoc" src="_images/sphinxdoc.png" /></p>
<p class="last"><em>sphinxdoc</em></p>
</td>
</tr>
<tr class="row-odd"><td><p class="first"><img alt="scrolls" src="_images/scrolls.png" /></p>
<p class="last"><em>scrolls</em></p>
</td>
<td><p class="first"><img alt="agogo" src="_images/agogo.png" /></p>
<p class="last"><em>agogo</em></p>
</td>
</tr>
<tr class="row-even"><td><p class="first"><img alt="traditional" src="_images/traditional.png" /></p>
<p class="last"><em>traditional</em></p>
</td>
<td><p class="first"><img alt="nature" src="_images/nature.png" /></p>
<p class="last"><em>nature</em></p>
</td>
</tr>
<tr class="row-odd"><td><p class="first"><img alt="haiku" src="_images/haiku.png" /></p>
<p class="last"><em>haiku</em></p>
</td>
<td><p class="first"><img alt="pyramid" src="_images/pyramid.png" /></p>
<p class="last"><em>pyramid</em></p>
</td>
</tr>
</tbody>
</table>
<p>Sphinx comes with a selection of themes to choose from.</p>
<p>These themes are:</p>
<ul>
<li><p class="first"><strong>basic</strong> &#8211; This is a basically unstyled layout used as the base for the
other themes, and usable as the base for custom themes as well.  The HTML
contains all important elements like sidebar and relation bar.  There are
these options (which are inherited by the other themes):</p>
<ul class="simple">
<li><strong>nosidebar</strong> (true or false): Don&#8217;t include the sidebar.  Defaults to
false.</li>
<li><strong>sidebarwidth</strong> (an integer): Width of the sidebar in pixels.  (Do not
include <code class="docutils literal"><span class="pre">px</span></code> in the value.)  Defaults to 230 pixels.</li>
</ul>
</li>
<li><p class="first"><strong>default</strong> &#8211; This is the default theme, which looks like <a class="reference external" href="http://docs.python.org/">the Python
documentation</a>.  It can be customized via these
options:</p>
<ul class="simple">
<li><strong>rightsidebar</strong> (true or false): Put the sidebar on the right side.
Defaults to false.</li>
<li><strong>stickysidebar</strong> (true or false): Make the sidebar &#8220;fixed&#8221; so that it
doesn&#8217;t scroll out of view for long body content.  This may not work well
with all browsers.  Defaults to false.</li>
<li><strong>collapsiblesidebar</strong> (true or false): Add an <em>experimental</em> JavaScript
snippet that makes the sidebar collapsible via a button on its side.
<em>Doesn&#8217;t work together with &#8220;rightsidebar&#8221; or &#8220;stickysidebar&#8221;.</em> Defaults to
false.</li>
<li><strong>externalrefs</strong> (true or false): Display external links differently from
internal links.  Defaults to false.</li>
</ul>
<p>There are also various color and font options that can change the color scheme
without having to write a custom stylesheet:</p>
<ul class="simple">
<li><strong>footerbgcolor</strong> (CSS color): Background color for the footer line.</li>
<li><strong>footertextcolor</strong> (CSS color): Text color for the footer line.</li>
<li><strong>sidebarbgcolor</strong> (CSS color): Background color for the sidebar.</li>
<li><strong>sidebarbtncolor</strong> (CSS color): Background color for the sidebar collapse
button (used when <em>collapsiblesidebar</em> is true).</li>
<li><strong>sidebartextcolor</strong> (CSS color): Text color for the sidebar.</li>
<li><strong>sidebarlinkcolor</strong> (CSS color): Link color for the sidebar.</li>
<li><strong>relbarbgcolor</strong> (CSS color): Background color for the relation bar.</li>
<li><strong>relbartextcolor</strong> (CSS color): Text color for the relation bar.</li>
<li><strong>relbarlinkcolor</strong> (CSS color): Link color for the relation bar.</li>
<li><strong>bgcolor</strong> (CSS color): Body background color.</li>
<li><strong>textcolor</strong> (CSS color): Body text color.</li>
<li><strong>linkcolor</strong> (CSS color): Body link color.</li>
<li><strong>visitedlinkcolor</strong> (CSS color): Body color for visited links.</li>
<li><strong>headbgcolor</strong> (CSS color): Background color for headings.</li>
<li><strong>headtextcolor</strong> (CSS color): Text color for headings.</li>
<li><strong>headlinkcolor</strong> (CSS color): Link color for headings.</li>
<li><strong>codebgcolor</strong> (CSS color): Background color for code blocks.</li>
<li><strong>codetextcolor</strong> (CSS color): Default text color for code blocks, if not
set differently by the highlighting style.</li>
<li><strong>bodyfont</strong> (CSS font-family): Font for normal text.</li>
<li><strong>headfont</strong> (CSS font-family): Font for headings.</li>
</ul>
</li>
<li><p class="first"><strong>sphinxdoc</strong> &#8211; The theme used for this documentation.  It features a sidebar
on the right side.  There are currently no options beyond <em>nosidebar</em> and
<em>sidebarwidth</em>.</p>
</li>
<li><p class="first"><strong>scrolls</strong> &#8211; A more lightweight theme, based on <a class="reference external" href="http://jinja.pocoo.org/">the Jinja documentation</a>.  The following color options are available:</p>
<ul class="simple">
<li><strong>headerbordercolor</strong></li>
<li><strong>subheadlinecolor</strong></li>
<li><strong>linkcolor</strong></li>
<li><strong>visitedlinkcolor</strong></li>
<li><strong>admonitioncolor</strong></li>
</ul>
</li>
<li><p class="first"><strong>agogo</strong> &#8211; A theme created by Andi Albrecht.  The following options are
supported:</p>
<ul class="simple">
<li><strong>bodyfont</strong> (CSS font family): Font for normal text.</li>
<li><strong>headerfont</strong> (CSS font family): Font for headings.</li>
<li><strong>pagewidth</strong> (CSS length): Width of the page content, default 70em.</li>
<li><strong>documentwidth</strong> (CSS length): Width of the document (without sidebar),
default 50em.</li>
<li><strong>sidebarwidth</strong> (CSS length): Width of the sidebar, default 20em.</li>
<li><strong>bgcolor</strong> (CSS color): Background color.</li>
<li><strong>headerbg</strong> (CSS value for &#8220;background&#8221;): background for the header area,
default a grayish gradient.</li>
<li><strong>footerbg</strong> (CSS value for &#8220;background&#8221;): background for the footer area,
default a light gray gradient.</li>
<li><strong>linkcolor</strong> (CSS color): Body link color.</li>
<li><strong>headercolor1</strong>, <strong>headercolor2</strong> (CSS color): colors for &lt;h1&gt; and &lt;h2&gt;
headings.</li>
<li><strong>headerlinkcolor</strong> (CSS color): Color for the backreference link in
headings.</li>
<li><strong>textalign</strong> (CSS <em>text-align</em> value): Text alignment for the body, default
is <code class="docutils literal"><span class="pre">justify</span></code>.</li>
</ul>
</li>
<li><p class="first"><strong>nature</strong> &#8211; A greenish theme.  There are currently no options beyond
<em>nosidebar</em> and <em>sidebarwidth</em>.</p>
</li>
<li><p class="first"><strong>pyramid</strong> &#8211; A theme from the Pyramid web framework project, designed by
Blaise Laflamme.  There are currently no options beyond <em>nosidebar</em> and
<em>sidebarwidth</em>.</p>
</li>
<li><p class="first"><strong>haiku</strong> &#8211; A theme without sidebar inspired by the <a class="reference external" href="http://www.haiku-os.org/docs/userguide/en/contents.html">Haiku OS user guide</a>.  The following
options are supported:</p>
<ul class="simple">
<li><strong>full_logo</strong> (true or false, default false): If this is true, the header
will only show the <a href="#id8"><span class="problematic" id="id9">:confval:`html_logo`</span></a>.  Use this for large logos.  If this
is false, the logo (if present) will be shown floating right, and the
documentation title will be put in the header.</li>
<li><strong>textcolor</strong>, <strong>headingcolor</strong>, <strong>linkcolor</strong>, <strong>visitedlinkcolor</strong>,
<strong>hoverlinkcolor</strong> (CSS colors): Colors for various body elements.</li>
</ul>
</li>
<li><p class="first"><strong>traditional</strong> &#8211; A theme resembling the old Python documentation.  There are
currently no options beyond <em>nosidebar</em> and <em>sidebarwidth</em>.</p>
</li>
<li><p class="first"><strong>epub</strong> &#8211; A theme for the epub builder.  There are currently no options.
This theme tries to save visual space which is a sparse resource on ebook
readers.</p>
</li>
</ul>
</div>
<div class="section" id="creating-themes">
<h2>Creating themes</h2>
<p>As said, themes are either a directory or a zipfile (whose name is the theme
name), containing the following:</p>
<ul class="simple">
<li>A <code class="file docutils literal"><span class="pre">theme.conf</span></code> file, see below.</li>
<li>HTML templates, if needed.</li>
<li>A <code class="docutils literal"><span class="pre">static/</span></code> directory containing any static files that will be copied to the
output static directory on build.  These can be images, styles, script files.</li>
</ul>
<p>The <code class="file docutils literal"><span class="pre">theme.conf</span></code> file is in INI format <a class="footnote-reference" href="#id17" id="id10">[1]</a> (readable by the standard
Python <code class="xref py py-mod docutils literal"><span class="pre">ConfigParser</span></code> module) and has the following structure:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[theme]</span>
<span class="na">inherit</span> <span class="o">=</span> <span class="s">base theme</span>
<span class="na">stylesheet</span> <span class="o">=</span> <span class="s">main CSS name</span>
<span class="na">pygments_style</span> <span class="o">=</span> <span class="s">stylename</span>

<span class="k">[options]</span>
<span class="na">variable</span> <span class="o">=</span> <span class="s">default value</span>
</pre></div>
</div>
<ul class="simple">
<li>The <strong>inherit</strong> setting gives the name of a &#8220;base theme&#8221;, or <code class="docutils literal"><span class="pre">none</span></code>.  The
base theme will be used to locate missing templates (most themes will not have
to supply most templates if they use <code class="docutils literal"><span class="pre">basic</span></code> as the base theme), its options
will be inherited, and all of its static files will be used as well.</li>
<li>The <strong>stylesheet</strong> setting gives the name of a CSS file which will be
referenced in the HTML header.  If you need more than one CSS file, either
include one from the other via CSS&#8217; <code class="docutils literal"><span class="pre">&#64;import</span></code>, or use a custom HTML template
that adds <code class="docutils literal"><span class="pre">&lt;link</span> <span class="pre">rel=&quot;stylesheet&quot;&gt;</span></code> tags as necessary.  Setting the
<a href="#id11"><span class="problematic" id="id12">:confval:`html_style`</span></a> config value will override this setting.</li>
<li>The <strong>pygments_style</strong> setting gives the name of a Pygments style to use for
highlighting.  This can be overridden by the user in the
<a href="#id13"><span class="problematic" id="id14">:confval:`pygments_style`</span></a> config value.</li>
<li>The <strong>options</strong> section contains pairs of variable names and default values.
These options can be overridden by the user in <a href="#id15"><span class="problematic" id="id16">:confval:`html_theme_options`</span></a>
and are accessible from all templates as <code class="docutils literal"><span class="pre">theme_&lt;name&gt;</span></code>.</li>
</ul>
<div class="section" id="templating">
<h3>Templating</h3>
<p>The <a class="reference internal" href="templating.html"><span class="doc">guide to templating</span></a> is helpful if you want to write your
own templates.  What is important to keep in mind is the order in which Sphinx
searches for templates:</p>
<ul class="simple">
<li>First, in the user&#8217;s <code class="docutils literal"><span class="pre">templates_path</span></code> directories.</li>
<li>Then, in the selected theme.</li>
<li>Then, in its base theme, its base&#8217;s base theme, etc.</li>
</ul>
<p>When extending a template in the base theme with the same name, use the theme
name as an explicit directory: <code class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">&quot;basic/layout.html&quot;</span> <span class="pre">%}</span></code>.  From a
user <code class="docutils literal"><span class="pre">templates_path</span></code> template, you can still use the &#8220;exclamation mark&#8221;
syntax as described in the templating document.</p>
</div>
<div class="section" id="static-templates">
<h3>Static templates</h3>
<p>Since theme options are meant for the user to configure a theme more easily,
without having to write a custom stylesheet, it is necessary to be able to
template static files as well as HTML files.  Therefore, Sphinx supports
so-called &#8220;static templates&#8221;, like this:</p>
<p>If the name of a file in the <code class="docutils literal"><span class="pre">static/</span></code> directory of a theme (or in the user&#8217;s
static path, for that matter) ends with <code class="docutils literal"><span class="pre">_t</span></code>, it will be processed by the
template engine.  The <code class="docutils literal"><span class="pre">_t</span></code> will be left from the final file name.  For
example, the <em>default</em> theme has a file <code class="docutils literal"><span class="pre">static/default.css_t</span></code> which uses
templating to put the color options into the stylesheet.  When a documentation
is built with the default theme, the output directory will contain a
<code class="docutils literal"><span class="pre">_static/default.css</span></code> file where all template tags have been processed.</p>
<table class="docutils footnote" frame="void" id="id17" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[1]</a></td><td>It is not an executable Python file, as opposed to <code class="file docutils literal"><span class="pre">conf.py</span></code>,
because that would pose an unnecessary security risk if themes are
shared.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="templating.html" class="btn btn-neutral float-right" title="Templating" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intl.html" class="btn btn-neutral" title="Internationalization" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>